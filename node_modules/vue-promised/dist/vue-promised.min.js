/**
 * vue-promised v1.2.2
 * (c) 2020 Eduardo San Martin Morote <posva13@gmail.com>
 * @license MIT
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VuePromised={})}(this,function(e){"use strict";var t={props:{tag:{type:String,default:"span"},promise:{validator:function(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}},pendingDelay:{type:[Number,String],default:200}},data:function(){return{resolved:!1,data:null,error:null,isDelayElapsed:!1}},render:function(e){if(this.$scopedSlots.combined){var t=this.$scopedSlots.combined({isPending:!this.resolved,isDelayOver:this.isDelayElapsed,data:this.data,error:this.error});return Array.isArray(t)&&t.length,Array.isArray(t)?a(e,this.tag,t):t}return this.error?i(this,e,"rejected",this.error):this.resolved?i(this,e,"default",this.data):this.isDelayElapsed?i(this,e,"pending",this.data):e()},watch:{promise:{handler:function(t){var i=this;if(this.resolved=!1,this.error=null,!t)return this.data=null,this.isDelayElapsed=!1,this.timerId&&clearTimeout(this.timerId),void(this.timerId=null);this.setupDelay(),t.then(function(e){i.promise===t&&(i.data=e,i.resolved=!0)}).catch(function(e){i.promise===t&&(i.error=e,i.resolved=!0)})},immediate:!0}},methods:{setupDelay:function(){var e=this;0<this.pendingDelay?(this.isDelayElapsed=!1,this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){return e.isDelayElapsed=!0},this.pendingDelay)):this.isDelayElapsed=!0}}};function a(e,t,i){return 1<i.length||!i[0].tag?e(t,{},i):i[0]}function i(e,t,i,r){if(e.$scopedSlots[i]){var s=e.$scopedSlots[i](r);return Array.isArray(s)&&s.length,Array.isArray(s)?a(t,e.tag,s):s}var n=e.$slots[i];return n.length,a(t,e.tag,n)}e.Promised=t,Object.defineProperty(e,"__esModule",{value:!0})});